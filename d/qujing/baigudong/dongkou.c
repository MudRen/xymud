// create by smile 12/8/1998
// ç™½éª¨æ´ï¼Œç™½éª¨ç²¾çš„æ –æ¯åœ°
#include <ansi.h>

inherit ROOM;

void create ()
{
  set ("short", "ç™½éª¨æ´");
  set ("long", @LONG
   [1;37m
        $$$                  $$$$$$$$$$$ 
       $ $                   $$       $$           $$$    $$$$$$$$$$$$$$$
      $ $                    $$$$$$   $$            $ $   $$$$$$$$$$$$$$$
     $ $$$$$$$$$$$$$         $$  $$   $$             $$$  $ $         $ $
     $ $$$$$$$$$$$$$     $$$$$$$$$$$$$$$$$$$$             $ $  $$$$$  $ $
     $ $         $ $     $$                $$       $$$   $ $  $$$$$  $ $
     $ $$$$$$$$$$$ $         $$$$$$$$$$$$            $ $  $ $         $ $
     $ $$$$$$$$$$$ $         $ $      $ $             $$$ $ $ $$$$$$$ $ $
     $ $         $ $         $ $$$$$$$$ $                 $ $ $ $ $ $ $ $
     $ $$$$$$$$$$$ $         $ $      $ $             $$$ $ $ $ $$$ $ $ $
     $$$$$$$$$$$$$$$         $ $$$$$$$$ $            $ $  $ $ $$$$$$$ $ $
                             $$$     $$$$           $$$   $$$       $-$ $
                                                          $$$        $$$$
[2;37;0m
      æ´é‡Œå¾€å¤–å‘¼å‘¼çš„å†’ç€é»‘çƒŸï¼Œéšé£é£˜æ¥é˜µé˜µè…¥å‘³ï¼Œç†å¾—ä½ ç›´æƒ³å‘•åã€‚æ´é—¨è¾¹ä¸Š
    å †ç€å‡ ä¸ªéª·é«…ï¼Œæƒ³å¿…æ˜¯ä¸€äº›è¢«æ´å†…å¦–ç²¾åƒæ‰çš„è¿‡å¾€è¡Œäººçš„æ­»åæ‰€ç•™æ®‹éª¸ã€‚
    
LONG);

  set("exits", ([
        "southdown"   : __DIR__"dongting",
      ]));
  set("outdoors", __DIR__);

  setup();
}

void init()
{
  add_action("do_enter","enter");
}

int do_enter(string arg)  //enter baigudong,must dx>100y,and mana>1800
{
    object me;
  if(!arg) return notify_fail("ä½ æƒ³è¿›ä»€ä¹ˆï¼Ÿ\n");  
  if(arg!="dong"&&arg!="hole"&&arg!="æ´"&&arg!="ç™½éª¨æ´")
      return notify_fail("ä½ æƒ³è¿›ä»€ä¹ˆï¼Ÿ\n");  

      me = this_player();
   message_vision("[1;33m$Næ·±å¸äº†ä¸€å£æ°”ï¼Œæä½é¼»å­ï¼Œå¾€ç™½éª¨æ´å†²äº†è¿‡å»ã€‚[2;37;0m\n",me);
   if(me->query("obstacle/baigudong")!="done")
    {
   if(me->query_temp("obstacle/baigudong_yao_killed")!="done"||
      me->query_level()<40||me->query_maxmana()<1800)
     {
       message_vision("[1;31m$Nå†²åˆ°æ´å£ï¼Œçªç„¶ä¸€é˜µé»‘çƒŸæ»šè¿‡,å¤¹æ‚ç€ä¸€è‚¡ç†äººè…¥æ°”ã€‚\n$NæƒŠå«ä¸€å£°ï¼Œæ˜å€’åœ¨åœ°ä¸Š!\n[2;37;0m",me);
       me->unconcious();
       return 1;
     }
    };
   message_vision("[1;35mç¼­ç»•çš„é»‘çƒŸä¸€ç¢°åˆ°$Nï¼Œé¡¿æ—¶å››æ•£è€Œå»\n[1;36m$Nä¸€è„šè¸è¿›ç™½éª¨æ´![2;37;0m\n",me);
     me->move(__DIR__"dongnei"); 
  return 1;     
}
